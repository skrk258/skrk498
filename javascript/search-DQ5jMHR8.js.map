{"version":3,"file":"search-DQ5jMHR8.js","sources":["../../src/search/search.js"],"sourcesContent":["import\"./search.scss\";\r\nimport BScroll from '@better-scroll/core'\r\nimport axios from 'axios'\r\n\r\n\r\nasync function searchRender(search){\r\n    const res1 = await axios.get('https://zyxcl.xyz/exam_api/zh')\r\n    let searchData = res1.data.items.filter( (pro) => {\r\n        return pro.title.includes(search)\r\n    })\r\n    console.log(searchData)\r\n    \r\n    const res2 = await axios.get('https://zyxcl.xyz/exam_api/xl')\r\n    console.log(res2.data.items)\r\n    let searchData2 = res2.data.items.filter( (pro) => {\r\n        return pro.title.includes(search)\r\n    })\r\n    searchData.push(...searchData2)\r\n    const res3 = await axios.get('https://zyxcl.xyz/exam_api/sx')\r\n    let searchData3 = res3.data.items.filter( (pro) => {\r\n        return pro.title.includes(search)\r\n    })\r\n    searchData.push(...searchData3)\r\n    \r\n    searchData = Array.from(new Set(searchData))\r\n    console.log(searchData)\r\n    $(\".pros\").innerHTML = searchData.map( (pro,index) => {\r\n        return`\r\n            <div class=\"pro\" data_index = ${index}>\r\n                <div class=\"img\">\r\n                    <img src=${pro.img} alt=\"\">\r\n                </div>\r\n                <div class=\"text\">\r\n                    <h4>${pro.title}</h4>\r\n                    <div class=\"sales\">月销${pro.sold}箱</div>\r\n                    <div>￥${pro.price}</div>\r\n                </div>\r\n            </div>\r\n        `\r\n    }).join(\"\")\r\n    const proScroll = new BScroll(\"main\" , {\r\n        scrollY : true ,\r\n        scrollbar : true ,\r\n        click : true ,\r\n        probeType : 2 ,\r\n    })\r\n}\r\n\r\n\r\n$(\".search\").addEventListener(\"change\", () => {\r\n    let search =  $(\".search\").value\r\n    searchRender(search)\r\n})\r\n\r\n\r\n$(\".back\").addEventListener( \"click\", (e) => {\r\n    location.assign(\"./\")\r\n\r\n} )\r\n\r\n\r\nfunction $(el, parent) {\r\n    parent = parent || document;\r\n    return parent.querySelector(el)\r\n}\r\n\r\nfunction gets(el, parent) {\r\n    parent = parent || document;\r\n    return [...parent.querySelectorAll(el)]\r\n}\r\n\r\n"],"names":["searchRender","search","searchData","axios","pro","res2","searchData2","searchData3","$","index","BScroll","e","el","parent"],"mappings":"+CAKA,eAAeA,EAAaC,EAAO,CAE/B,IAAIC,GADS,MAAMC,EAAM,IAAI,+BAA+B,GACtC,KAAK,MAAM,OAASC,GAC/BA,EAAI,MAAM,SAASH,CAAM,CACnC,EACD,QAAQ,IAAIC,CAAU,EAEtB,MAAMG,EAAO,MAAMF,EAAM,IAAI,+BAA+B,EAC5D,QAAQ,IAAIE,EAAK,KAAK,KAAK,EAC3B,IAAIC,EAAcD,EAAK,KAAK,MAAM,OAASD,GAChCA,EAAI,MAAM,SAASH,CAAM,CACnC,EACDC,EAAW,KAAK,GAAGI,CAAW,EAE9B,IAAIC,GADS,MAAMJ,EAAM,IAAI,+BAA+B,GACrC,KAAK,MAAM,OAASC,GAChCA,EAAI,MAAM,SAASH,CAAM,CACnC,EACDC,EAAW,KAAK,GAAGK,CAAW,EAE9BL,EAAa,MAAM,KAAK,IAAI,IAAIA,CAAU,CAAC,EAC3C,QAAQ,IAAIA,CAAU,EACtBM,EAAE,OAAO,EAAE,UAAYN,EAAW,IAAK,CAACE,EAAIK,IAClC;AAAA,4CAC8BA,CAAK;AAAA;AAAA,+BAElBL,EAAI,GAAG;AAAA;AAAA;AAAA,0BAGZA,EAAI,KAAK;AAAA,2CACQA,EAAI,IAAI;AAAA,4BACvBA,EAAI,KAAK;AAAA;AAAA;AAAA,SAIhC,EAAE,KAAK,EAAE,EACQ,IAAIM,EAAQ,OAAS,CACnC,QAAU,GACV,UAAY,GACZ,MAAQ,GACR,UAAY,CACpB,CAAK,CACL,CAGAF,EAAE,SAAS,EAAE,iBAAiB,SAAU,IAAM,CAC1C,IAAIP,EAAUO,EAAE,SAAS,EAAE,MAC3BR,EAAaC,CAAM,CACvB,CAAC,EAGDO,EAAE,OAAO,EAAE,iBAAkB,QAAUG,GAAM,CACzC,SAAS,OAAO,IAAI,CAExB,CAAG,EAGH,SAASH,EAAEI,EAAIC,EAAQ,CACnB,OAAAA,EAASA,GAAU,SACZA,EAAO,cAAcD,CAAE,CAClC"}